import{j as t,N as b,F as j}from"./index-RvE5hqNg.js";import{r as i}from"./vendor-CZEWTzsU.js";import{d as w,a as k,L as x}from"./router-CCc9OXMT.js";function N(l){return l.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/--+/g,"-")}const B=()=>{var g;const{slug:l}=w(),u=k(),[e,p]=i.useState(((g=u.state)==null?void 0:g.blog)||null),[h,f]=i.useState(!e),[c,y]=i.useState(null);return i.useEffect(()=>{e||fetch("https://ai-auto-blogger.onrender.com/api/blogs").then(a=>{if(!a.ok)throw new Error("Failed to fetch blogs");return a.json()}).then(a=>{const s=a.find(n=>N(n.title)===l);if(!s)throw new Error("Blog not found");p(s)}).catch(a=>y(a.message)).finally(()=>f(!1))},[l,e]),i.useEffect(()=>{if(!e)return;document.title=`${e.title} | Blog TaxAI`;let a=document.querySelector('meta[name="description"]');a||(a=document.createElement("meta"),a.setAttribute("name","description"),document.head.appendChild(a)),a.setAttribute("content",e.metaInfo||"Artikel blog TaxAI");let s=document.querySelector('meta[name="keywords"]');s||(s=document.createElement("meta"),s.setAttribute("name","keywords"),document.head.appendChild(s)),s.setAttribute("content",e.keywords||"tax, ai, finance, blog");const n=(o,m)=>{let r=document.querySelector(`meta[property='${o}']`);r||(r=document.createElement("meta"),r.setAttribute("property",o),document.head.appendChild(r)),r.setAttribute("content",m)};n("og:title",e.title),n("og:description",e.metaInfo||"Artikel blog TaxAI"),n("og:type","article"),n("og:url",window.location.href),e.images&&e.images.length>0&&n("og:image",e.images[0]);const d=(o,m)=>{let r=document.querySelector(`meta[name='${o}']`);r||(r=document.createElement("meta"),r.setAttribute("name",o),document.head.appendChild(r)),r.setAttribute("content",m)};d("twitter:card",e.images&&e.images.length>0?"summary_large_image":"summary"),d("twitter:title",e.title),d("twitter:description",e.metaInfo||"TaxAi Blog"),e.images&&e.images.length>0&&d("twitter:image",e.images[0])},[e]),h?t.jsx("div",{className:"text-center py-10",children:"Loading blog..."}):c?t.jsx("div",{className:"text-center text-red-500 py-10",children:c}):e?t.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-gray-50 via-white to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 transition-colors duration-300",dir:document.documentElement.dir,children:[t.jsx(b,{}),t.jsx("main",{className:"flex-grow",children:t.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4",children:[t.jsxs("nav",{className:"mb-6 text-sm text-gray-500 dark:text-gray-400 flex gap-2 items-center","aria-label":"Breadcrumb",children:[t.jsx(x,{to:"/blogs",className:"hover:text-primary underline",children:"Blog"}),t.jsx("span",{className:"mx-1",children:"/"}),t.jsx("span",{className:"text-gray-400 dark:text-gray-500 line-clamp-1",children:e.title})]}),t.jsxs("header",{className:"mb-6",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-2 text-primary drop-shadow-lg leading-tight",children:e.title}),t.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-500 dark:text-gray-400 text-xs md:text-sm mb-2",children:[t.jsxs("span",{children:["üóìÔ∏è ",new Date(e.createdAt).toLocaleString()]}),t.jsxs("span",{children:["üè∑Ô∏è ",e.keywords]})]})]}),t.jsxs("section",{className:"mb-10",children:[t.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Content"}),t.jsx("div",{className:"prose prose-gray dark:prose-invert max-w-none bg-white/90 dark:bg-gray-900/90 p-6 rounded-xl shadow-xl border border-gray-200 dark:border-gray-800 transition-colors duration-300",children:t.jsx("div",{style:{textAlign:"justify"},className:"[&>p]:mb-6 [&>p]:text-justify [&>p]:leading-relaxed [&>p]:text-base md:[&>p]:text-lg [&>p]:text-gray-700 dark:[&>p]:text-gray-200",dangerouslySetInnerHTML:{__html:e.content}})})]}),t.jsx(x,{to:"/blogs",className:"inline-block mt-4 text-primary underline hover:text-primary/80 text-sm",children:"‚Üê Back To Blog"})]})}),t.jsx(j,{})]}):null};export{B as default};
